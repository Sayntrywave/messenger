# messenger

https://drive.google.com/drive/folders/1nnL2zV8XPLE8q6k6T67_VnpqVyotA7O9?usp=sharing - демонстрация

Я написал для удобства клиент на джаве, так что пользуйтесь :)

https://app.swaggerhub.com/apis-docs/SAYNTRYWAVE_1/messenger/1.0.0 - свагер

По критериям выполнил все(включая все дополнительные заданиия). Даже тесты написал :)

По поводу клиента: программа будет ожидать от вас логина и пароля на входе, чтобы провести авторизацию.

Авторизация реализована с помощью spring security(jwt). Токены передаются во всех методам в хедере "Authorization"кроме
этих эндпоинтов "/login", "/register", "/error", "/activate". Инвалидировать токен можно через /logout.


Никнейм и логин у меня это одно и тоже

В /user/edit передается UserEditRequest в который можно передавать только тот параметр, который вы хотите изменить.

При изменении почты отправляется ссылка на нее с подтверждением, при нажатии почта поменяется
После отключения аккаунта(когда приходит параметр isInBan) приходит сообщение на текущую почту, чтобы можно было восстановить аккаунт.

В /user/add-friend-request мы отправляем логин пользоваетеля, которого хотим добавить в друзья 

В /user/friend-requests просмотр всех заявок в друзья

В /user/accept-friend-request мы принимаем пользователя, который к нам добавился в друзья

В /user/friends получаем список либо своих(тогда никаких параметров не отсылаем), либо чужих на параметр "nick" приходит никнейм

В /user/messages получить сообщения с пользователем(в параметре "nick" вводим никнейм)

В /user/delete удаляется авторизованный пользователь

В /register - пользователь сохраняется, но считается зарегистрированным, только после того как перейдет по ссылке на почте

В /login - передается логин и пароль возвращается токен(также еще id и login, но это нужно только для фронта)

В /activate - идут все подтверждения: на регистрацию, восстановление аккаунта, смена почты. Всегда передается token, идентифицирующий пользователя, а затем можно передать параметры для разбана или почты, на которую мы хотим заменить

Общение через вебсокеты устроенно через ендпоинт /chat в него передается параметры кто хочет отправить сообщение, куда и само сообщение.


